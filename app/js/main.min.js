!function(){"use strict";angular.module("app",["ui.router","LocalStorageModule"]).config(["$stateProvider","$urlRouterProvider","$locationProvider",function(t,e,o){o.html5Mode(!0),e.otherwise("/"),t.state("main",{url:"/",views:{add:{templateUrl:"components/add/add.html",controller:"addController",controllerAs:"add"},list:{templateUrl:"components/list/list.html",controller:"listController",controllerAs:"list"}}})}]).config(["localStorageServiceProvider",function(t){t.setStorageCookie(0,"/").setStorageCookieDomain("").setNotify(!0,!0)}])}(),function(){"use strict";function t(t,e){function o(t){var e=t||"0000";return(e+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-6)}function n(t){var n=e.get("notes")||[],r=(new Date).getTime();return t.timestamp=r,t.id=o(r),n.push(t),e.set("notes",n),t}function r(t,o){var n=e.get("notes")||[],r=c(o);return n[r]=t,e.set("notes",n),t}function l(t){var o=e.get("notes")||[],n=c(t),r=null;return n>0&&(r=o.splice(n,1),e.set("notes",o)),r}function i(){return e.get("notes")||[]}function s(t){var o=_.find(e.get("notes"),function(e){return e.id==t});return o}function c(t){var o=_.findIndex(e.get("notes"),function(e){return e.id==t});return o}return{addNote:n,editNote:r,getNote:s,deleteNote:l,getAllNotes:i}}angular.module("app").factory("notesService",["$log","localStorageService",t])}(),function(){"use strict";function t(t,e,o){function n(){var n=o.addNote(r.note);t.debug("[addController] Success: note added",n),e.$broadcast("notesUpdated"),r.note={}}var r=this;r.note={},r.addNote=n}angular.module("app").controller("addController",["$log","$rootScope","notesService",t])}(),function(){"use strict";function t(t,e,o){function n(){l.notes=o.getAllNotes()}function r(){l.notes=o.getAllNotes(),e.debug("[listController] Refresh list")}var l=this;l.notes={},l.deleteNote=function(t){var n=o.deleteNote(t);n?e.debug("[listController] Success: Note deleted: ",n):e.debug("[listController] Error: Deletion failed"),r()},n(),t.$on("notesUpdated",function(t){r()})}angular.module("app").controller("listController",["$rootScope","$log","notesService",t])}(),function(){"use strict";function t(t,e,o,n){function r(){var t=n.getNote(o.id);i.note=t}function l(o){var r=n.editNote(i.note,o);t.debug("[editCtrl] Success: note edited"),e.$broadcast("notesUpdated",r)}var i=this;i.note={},i.editNote=l,r()}angular.module("app").controller("editCtrl",["$log","$rootScope","$stateParams","notesService",t])}(),function(){"use strict";function t(t){return{restrict:"EA",templateUrl:"components/note/note.html",scope:{},controller:e,controllerAs:"vm",bindToController:{note:"=","delete":"&"}}}function e(){var t=this;t.edit=function(){t.status="edit mode"}}angular.module("app").directive("noteItem",["notesService",t])}();